<cdk-accordion class='sidebar' [multi]='true'>
  <cdk-accordion-item
    *ngFor='let sidebarItem of sidebarService.sidebarItems; let index = index;'
    #accordionItemComponent='cdkAccordionItem'

    class='accordion-item'
    role='button'
    tabindex='0'
    [attr.id]="'accordion-header-' + index"
    [attr.aria-expanded]='accordionItemComponent.expanded'
    [attr.aria-controls]="'accordion-body-' + index">


    <div class='ps-0 mb-0'>
      <div *ngIf='sidebarItem.childItems.length===0'
          [routerLink]='sidebarItem.path'
          routerLinkActive='is-active'>
        <div class=' align-items-center item-label'>
          <i-feather [name]='sidebarItem.icon'></i-feather>
          {{ sidebarItem.text }}
        </div>
      </div>


      <div *ngIf='sidebarItem.childItems.length>0'        >
        <div class='align-items-center  item-label' (click)='accordionItemComponent.toggle()' >
          <span>
            <i-feather [name]='sidebarItem.icon' ></i-feather>
            {{ sidebarItem.text }}
          </span>


          <ng-container *ngIf='sidebarItem.childItems.length>0' class='float-end'>
            <ng-container *ngIf='accordionItemComponent.expanded'>
              <i-feather name='chevron-down' class="float-end"></i-feather>
            </ng-container>

            <ng-container *ngIf='!accordionItemComponent.expanded'>
              <i-feather name='chevron-left' class="float-end"></i-feather>
            </ng-container>
          </ng-container>
        </div>

        <div *ngIf='accordionItemComponent.expanded'
            class='btn-toggle-nav list-unstyled fw-normal pb-1 small ps-0 child-container'>
          <div *ngFor='let childItem of sidebarItem.childItems'
              [routerLink]='childItem.path'
              routerLinkActive='is-active'>
            <div href='#' class='item-label'>
              {{childItem.text}}
            </div>
          </div>
        </div>


      </div>


    </div>


  </cdk-accordion-item>
</cdk-accordion>

